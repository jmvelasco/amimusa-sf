{% extends 'base.html.twig' %}

{% block body %}
<div id="container">
    
    <ul class="bxslider">
    {% for p in publications %}
            <li>
                <span class="back-link">
                    <a href="{{ path('fos_user_profile_show', {'idContributor' : p.idContributor.id}) }}">
                        <img src="/img/cancel2.png" alt="X">
                    </a>
                </span>

                <h1>{{ p.idWritting.title }}</h1>
                <div class="writtingWrapper">
                    <p>{{ p.idWritting.body | raw }}</p>
                    <p>&nbsp;</p>
                </div>

                <div class="contributorWrapper">
                    <h2>Por&nbsp;<a href="{{ path('fos_user_profile_show', {'idContributor' : p.idContributor.id}) }}">{{ p.idContributor.username }}</a></h2>
                </div>


            </li>
    {% endfor %}
    </ul>
</div>
{% endblock %}

{% block javascripts %}
    <!-- jQuery library (served from Google) -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    
    <!-- bxSlider Javascript file -->
    <script src="/assets/bxslider/jquery.bxslider.min.js"></script>
    <script type="application/javascript">
        $(document).ready(function(){

            $('.bxslider').bxSlider({
                pager:false,
                adaptiveHeight: true,
                slideWidth: 940,
            });

            var $bxsliderContainer = $('.bx-wrapper .bx-viewport');
            $bxsliderContainer.css('background-color', '#F4F4F4');
            $bxsliderContainer.css('text-align', 'center');
            
            var $writting = $('.bxslider .writtingWrapper');
            $writting.css('background-repeat', 'no-repeat');
            $writting.css('background-position', 'center');

            $(window).trigger('resize');

            $('.delete').click(function(event){
                var flag = confirm("Â¿Seguro que quieres borrar este escrito?");
                if (flag) {
                    return;
                } else {
                    event.preventDefault();
                }
                
            });


        });

    </script>
{% endblock %}
{% block stylesheets %}
    <!-- bxSlider CSS file -->
    <link href="/assets/bxslider/jquery.bxslider.css" rel="stylesheet" />

    <link href="/assets/show-publications.css" rel="stylesheet" />
{% endblock %}
